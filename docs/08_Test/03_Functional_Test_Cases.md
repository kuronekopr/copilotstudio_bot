# 03_Functional_Test_Cases

## 機能テストケース (FT-01 ~ FT-06)

### FT-01: 正常な画像アップロード（Happy Path）

```
【テストケースID】FT-01
【タイトル】複数画像アップロード正常系
【優先度】P0 (Critical)

【前提条件】
- チャット画面が表示されている
- ネットワーク接続がある

【テストステップ】
1. [📎] ボタンをクリック
2. ファイル選択ダイアログで JPEG 3 枚を選択
3. サムネイル表示エリアに 3 枚表示確認
4. 画像数インジケーター：「3/5」と表示
5. テキストエリアに「パスワードをリセットしたい」と入力
6. [送信] ボタンをクリック
7. 「画像を処理中…」スピナー表示
8. PII_REVIEW 画面表示（メール、電話が検出）
9. [送信] ボタンをクリック
10. WAITING_RESPONSE（ロード）
11. AUTO_RESOLVE 回答表示

【期待結果】
✓ すべてのステップが正常に遷移
✓ PII が正確に検出される
✓ エラーメッセージなし
✓ 処理時間：< 8 秒（P50）

【実際の結果】
✓/✗: ____
コメント: ___________

【テスト担当者】____________
【テスト日】____________
```

### FT-02: 6 番目の画像アップロード拒否

```
【テストケースID】FT-02
【タイトル】最大枚数超過時の拒否
【優先度】P1

【テストステップ】
1. すでに 5 枚の画像が選択されている状態
2. [📎] ボタンをクリック
3. 6 番目の画像を選択

【期待結果】
✓ エラーメッセージ：「画像は最大 5 枚までです」
✓ 6 番目の画像は追加されない
✓ 画像数インジケーター：まだ「5/5」のまま

【実際の結果】
✓/✗: ____
```

### FT-03: SVG ファイル拒否

```
【テストケースID】FT-03
【タイトル】SVG 形式ファイルの拒否
【優先度】P0 (Critical - Security)

【テストステップ】
1. [📎] ボタンをクリック
2. SVG ファイル（diagram.svg）を選択

【期待結果】
✓ エラーメッセージ：「SVG 形式はサポートされていません」
✓ ファイルは追加されない

【実際の結果】
✓/✗: ____
```

### FT-04: マスク前の送信ブロック

```
【テストケースID】FT-04
【タイトル】PII マスク確認前の送信禁止
【優先度】P0 (Critical)

【テストステップ】
1. 画像をアップロード
2. PII_REVIEW 画面が表示
3. PII チェックボックスをすべて OFF
4. [送信] ボタンをクリック

【期待結果】
✓ 自動検出 PII は OFF にできない（disabled）
✓ 警告メッセージ表示：
  「自動検出されたマスク対象は削除できません」

【実際の結果】
✓/✗: ____
```

### FT-05: AUTO_RESOLVE 回答表示と投票

```
【テストケースID】FT-05
【タイトル】自動解決回答の表示と投票
【優先度】P1

【テストステップ】
1. チャット送信（AUTO_RESOLVE 決定される）
2. ANSWER_SHOWN 画面表示確認
3. 回答テキスト表示確認
4. FAQ リンク 3-5 件表示確認
5. [👍 役に立った] ボタンをクリック
6. 投票完了メッセージ表示

【期待結果】
✓ 回答が正確に表示
✓ FAQ リンクがクリック可能（外部リンク）
✓ 投票後：「ご投票ありがとうございました」メッセージ
✓ ボタン無効化（二重投票防止）

【実際の結果】
✓/✗: ____
```

### FT-06: ESCALATE フォーム引継ぎ

```
【テストケースID】FT-06
【タイトル】エスカレーション時のフォーム引継ぎ
【優先度】P1

【テストステップ】
1. チャット送信（ESCALATE 決定される）
2. ESCALATE 画面表示確認
3. セッション情報表示確認
4. [お問い合わせフォームに移動] ボタンをクリック
5. フォーム画面へ遷移
6. フォーム内に以下が自動入力されているか確認：
   - セッション ID
   - 質問概要
   - マスク済画像（添付）

【期待結果】
✓ ESCALATE 画面が 10 秒でカウントダウン
✓ ボタンクリック時にすぐ遷移
✓ フォームに情報が引き継がれている
✓ ユーザーは最小限の追加入力で送信可能

【実際の結果】
✓/✗: ____
```

