# /06_UI_Spec

## 目的
チャットUI仕様の完全定義

チャットベースのPII検出・マスク・質問応答インターフェース全体の仕様書
- 画像アップロード機能
- PIIマスク確認UI
- スコア結果表示
- エラー処理
- 状態遷移管理

## 前提条件
- **B案採用**：Direct Line + Custom Web Chat フレームワーク
- **匿名利用**：認証なし、短期トークン方式
- **画像上限**：最大5枚、5MB/枚、JPEG/PNG のみ
- **原本保存なし**：前処理後は原本を保持しない
- **マスク済のみ送信**：PII確認画面でマスク確認後に送信
- **Eventログ必須**：すべてのユーザー操作とシステム決定をイベントログに記録

## ファイル構成
- `01_Chat_UI_Overview.md` - UI全体構成、レイアウト、ポップアップ設計
- `02_State_Machine.md` - 状態遷移図と詳細説明
- `03_Image_Upload_Spec.md` - 画像アップロード仕様、前処理、バリデーション
- `04_PII_Mask_UI_Detail.md` - PIIマスク確認画面の詳細設計
- `05_Decision_Display_Spec.md` - 自動判定結果の表示仕様（AUTO/ASK/ESCALATE）
- `06_Error_and_Edge_Cases.md` - エラーハンドリングと端末ケース
- `07_Accessibility_and_Performance.md` - アクセシビリティとパフォーマンス要件
- `08_Copy_and_Microcopy.md` - UI文言（日本語マイクロコピー）

## 主要設計原則
1. **ユーザーファースト**：PII確認は絶対に必須、手動追加可能な設計
2. **最小権限**：元画像非保存、マスク済画像のみ処理
3. **透明性**：各ステップで状態を明確に表示、操作キャンセル可能
4. **監査性**：すべての操作をイベントログに記録
